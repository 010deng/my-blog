# 计算机组成原理

## 冯诺依曼计算机组成的五大部分

* 输入设备
* 存储器
* 运算器（ALU）
* 控制器 (CU) 控制操作的先后顺序
* 输出设备

## 指令格式（不考虑乘法位数细节的情况下）

前六位操作码，后面为地址码

* 取数 A `[A] -> Acc` 加了中括号的表示其中存放的值
* 存数 B `[ACC] -> B`
* 加   Y `[ACC] + [Y] -> ACC`
* 乘   一般会用到两个寄存器，因为两个数相乘，它所占用的地址会比乘数的大
* 打印
* 停机

执行一条指令需要经历的三个过程
* 取指令地址
* 分析指令
* 执行指令

## 硬件的主要技术指标

* 机器字长：CPU一次能处理数据的位数（一般和CPU中的寄存器位数有关）

* 运算速度
    + 主频
    + 核数（每个核支持的线程数）
    + 吉普森法（分为动态和静态）
    + CPI（执行一条指令所需时钟周期数）
    + IPC（执行一个时钟周期所需指令数）
    + MIPS（每秒执行多少百万条指令）
    + FLOPS（每秒浮点运算次数）

* 存储容量
    + 主存容量
        - 存储单元个数 * 存储字长
        - 字节数
    
    + 辅存容量
        - 字节数

## 总线

### 总线的分类

* 片内总线
* 系统总线
    + 数据总线（双向）
    + 地址总线（单向）
    + 控制总线
* 通信总线
    + 串行
    + 并行

### 总线控制

一些有关总线的约定
* 总线在同一时刻只能由一对设备使用
* 三条比较重要的线路
    + BR表示总线请求（所有设备都需要通过这条线向控制部件发出占用总线的请求）
    + BG表示总线同意（一般用于查询是哪一个设备发出的请求）
    + BS表示总线忙（当有设备占用总线的时候，就需要通过这条线告诉控制部件或者其他部件总线忙）
* 主设备：对总线有控制权，从设备：响应从主设备发来的总线命令

总线的判优控制
* 集中式总线判优控制
    + 链式查询（优先级确定，电路故障敏感，结构简单）
    + 计数器定时查询（可以通过控制计数器来自定义优先级，原理是通过新增的设备地址线向各设备发出一组地址信号，设备地址与计数器值一致时获得总线使用权）
    + 独立请求方式（通过排队器控制，每个设备都有独立的线（BR，BG）进行请求）


## 存储器

### 存储器分类
按存储介质分类

* 半导体存储器：断电会丢失数据
* 磁表面存储器
* 磁芯存储器 ：原理是通过两条导线向其中输入电流，磁化导体，并让两个不同的磁极来存储数据
* 光盘存储器

按存取方式分类

* 随机访问
    + 随机存储器 可读可写
    + 只读存储器 只读
* 串行访问
    + 顺序存取存储器 磁带
    + 直接存取存储器 磁盘

按作用分类

* 主存：RAM：随机存储器  ROM：只读存储器
* FLASH MEMORY：常用做便携式存储器
* cache
* 辅存